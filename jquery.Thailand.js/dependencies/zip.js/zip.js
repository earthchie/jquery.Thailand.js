// https://github.com/gildas-lormeau/zip.js
!function(a){"use strict";function n(){this.crc=-1}function o(){}function p(a,b,c){if(b<0||c<0||b+c>a.size)throw new RangeError("offset:"+b+", length:"+c+", size:"+a.size);return a.slice?a.slice(b,b+c):a.webkitSlice?a.webkitSlice(b,b+c):a.mozSlice?a.mozSlice(b,b+c):a.msSlice?a.msSlice(b,b+c):void 0}function q(a,b){var c,d;return c=new ArrayBuffer(a),d=new Uint8Array(c),b&&d.set(b,0),{buffer:c,array:d,view:new DataView(c)}}function r(){}function s(a){function d(d,e){var f=new Blob([a],{type:l});c=new u(f),c.init(function(){b.size=c.size,d()},e)}function e(a,b,d,e){c.readUint8Array(a,b,d,e)}var c,b=this;b.size=0,b.init=d,b.readUint8Array=e}function t(b){function e(a){for(var e=b.length;"="==b.charAt(e-1);)e--;d=b.indexOf(",")+1,c.size=Math.floor(.75*(e-d)),a()}function f(c,e,f){var g,h=q(e),i=4*Math.floor(c/3),j=4*Math.ceil((c+e)/3),k=a.atob(b.substring(i+d,j+d)),l=c-3*Math.floor(i/4);for(g=l;g<l+e;g++)h.array[g-l]=k.charCodeAt(g);f(h.array)}var d,c=this;c.size=0,c.init=e,c.readUint8Array=f}function u(a){function c(c){b.size=a.size,c()}function d(b,c,d,e){var f=new FileReader;f.onload=function(a){d(new Uint8Array(a.target.result))},f.onerror=e;try{f.readAsArrayBuffer(p(a,b,c))}catch(a){e(a)}}var b=this;b.size=0,b.init=c,b.readUint8Array=d}function v(){}function w(a){function d(a){c=new Blob([],{type:l}),a()}function e(a,b){c=new Blob([c,m?a:a.buffer],{type:l}),b()}function f(b,d){var e=new FileReader;e.onload=function(a){b(a.target.result)},e.onerror=d,e.readAsText(c,a)}var c,b=this;b.init=d,b.writeUint8Array=e,b.getData=f}function x(b){function f(a){d+="data:"+(b||"")+";base64,",a()}function g(b,c){var f,g=e.length,h=e;for(e="",f=0;f<3*Math.floor((g+b.length)/3)-g;f++)h+=String.fromCharCode(b[f]);for(;f<b.length;f++)e+=String.fromCharCode(b[f]);h.length>2?d+=a.btoa(h):e=h,c()}function h(b){b(d+a.btoa(e))}var c=this,d="",e="";c.init=f,c.writeUint8Array=g,c.getData=h}function y(a){function d(c){b=new Blob([],{type:a}),c()}function e(c,d){b=new Blob([b,m?c:c.buffer],{type:a}),d()}function f(a){a(b)}var b,c=this;c.init=d,c.writeUint8Array=e,c.getData=f}function z(a,b,c,d,e,f,g,h,i,j){function q(){a.removeEventListener("message",r,!1),h(n,p)}function r(b){var c=b.data,e=c.data,h=c.error;if(h)return h.toString=function(){return"Error: "+this.message},void i(h);if(c.sn===o)switch("number"==typeof c.codecTime&&(a.codecTime+=c.codecTime),"number"==typeof c.crcTime&&(a.crcTime+=c.crcTime),c.type){case"append":e?(n+=e.length,d.writeUint8Array(e,function(){s()},j)):s();break;case"flush":p=c.crc,e?(n+=e.length,d.writeUint8Array(e,function(){q()},j)):q();break;case"progress":g&&g(m+c.loaded,f);break;case"importScripts":case"newTask":case"echo":break;default:console.warn("zip.js:launchWorkerProcess: unknown message: ",c)}}function s(){m=l*k,m<f?c.readUint8Array(e+m,Math.min(k,f-m),function(c){g&&g(m,f);var d=0===m?b:{sn:o};d.type="append",d.data=c,a.postMessage(d,[c.buffer]),l++},i):a.postMessage({sn:o,type:"flush"})}var m,n,p,l=0,o=b.sn;n=0,a.addEventListener("message",r,!1),s()}function A(a,b,c,d,e,f,g,h,i,j){function s(){var f;if((m=l*k)<e)b.readUint8Array(d+m,Math.min(k,e-m),function(b){var d;try{d=a.append(b,function(a){g&&g(m+a,e)})}catch(a){return void i(a)}d?(o+=d.length,c.writeUint8Array(d,function(){l++,setTimeout(s,1)},j),q&&r.append(d)):(l++,setTimeout(s,1)),p&&r.append(b),g&&g(m,e)},i);else{try{f=a.flush()}catch(a){return void i(a)}f?(q&&r.append(f),o+=f.length,c.writeUint8Array(f,function(){h(o,r.get())},j)):h(o,r.get())}}var m,l=0,o=0,p="input"===f,q="output"===f,r=new n;s()}function B(b,c,d,e,f,g,h,i,j,k,l){var m=h?"output":"none";if(a.zip.useWebWorkers){z(b,{sn:c,codecClass:"Inflater",crcType:m},d,e,f,g,j,i,k,l)}else A(new a.zip.Inflater,d,e,f,g,m,j,i,k,l)}function C(b,c,d,e,f,g,h,i,j){var k="input";if(a.zip.useWebWorkers){z(b,{sn:c,options:{level:f},codecClass:"Deflater",crcType:k},d,e,0,d.size,h,g,i,j)}else A(new a.zip.Deflater,d,e,0,d.size,k,h,g,i,j)}function D(b,c,d,e,f,g,h,i,j,k,l){var m="input";if(a.zip.useWebWorkers&&h){z(b,{sn:c,codecClass:"NOOP",crcType:m},d,e,f,g,j,i,k,l)}else A(new o,d,e,f,g,m,j,i,k,l)}function E(a){var b,d,c="",e=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];for(b=0;b<a.length;b++)d=255&a.charCodeAt(b),c+=d>127?e[d-128]:String.fromCharCode(d);return c}function F(a){return decodeURIComponent(escape(a))}function G(a){var b,c="";for(b=0;b<a.length;b++)c+=String.fromCharCode(a[b]);return c}function H(a){var b=(4294901760&a)>>16,c=65535&a;try{return new Date(1980+((65024&b)>>9),((480&b)>>5)-1,31&b,(63488&c)>>11,(2016&c)>>5,2*(31&c),0)}catch(a){}}function I(a,b,c,f,g){return a.version=b.view.getUint16(c,!0),a.bitFlag=b.view.getUint16(c+2,!0),a.compressionMethod=b.view.getUint16(c+4,!0),a.lastModDateRaw=b.view.getUint32(c+6,!0),a.lastModDate=H(a.lastModDateRaw),1==(1&a.bitFlag)?void g(d):((f||8!=(8&a.bitFlag))&&(a.crc32=b.view.getUint32(c+10,!0),a.compressedSize=b.view.getUint32(c+14,!0),a.uncompressedSize=b.view.getUint32(c+18,!0)),4294967295===a.compressedSize||4294967295===a.uncompressedSize?void g(e):(a.filenameLength=b.view.getUint16(c+22,!0),void(a.extraFieldLength=b.view.getUint16(c+24,!0))))}function J(d,e,g){function k(){}function l(a){function i(b,e){d.readUint8Array(d.size-b,b,function(b){for(var d=b.length-c;d>=0;d--)if(80===b[d]&&75===b[d+1]&&5===b[d+2]&&6===b[d+3])return void a(new DataView(b.buffer,d,c));e()},function(){g(f)})}var c=22;if(d.size<c)return void g(b);var e=65536,h=c+e;i(c,function(){i(Math.min(h,d.size),function(){g(b)})})}var j=0;k.prototype.getData=function(a,e,f,k){function m(a){var b=q(4);return b.view.setUint32(0,a),l.crc32==b.view.getUint32(0)}function n(b,d){k&&!m(d)?g(c):a.getData(function(a){e(a)})}function o(a){g(a||i)}function p(a){g(a||h)}var l=this;d.readUint8Array(l.offset,30,function(c){var h,e=q(c.length,c);if(1347093252!=e.view.getUint32(0))return void g(b);I(l,e,4,!1,g),h=l.offset+30+l.filenameLength+l.extraFieldLength,a.init(function(){0===l.compressionMethod?D(l._worker,j++,d,a,h,l.compressedSize,k,n,f,o,p):B(l._worker,j++,d,a,h,l.compressedSize,k,n,f,o,p)},p)},o)};var m={getEntries:function(a){var c=this._worker;l(function(e){var h,i;if(h=e.getUint32(16,!0),i=e.getUint16(8,!0),h<0||h>=d.size)return void g(b);d.readUint8Array(h,d.size-h,function(d){var e,j,l,m,f=0,h=[],n=q(d.length,d);for(e=0;e<i;e++){if(j=new k,j._worker=c,1347092738!=n.view.getUint32(f))return void g(b);I(j,n,f+6,!0,g),j.commentLength=n.view.getUint16(f+32,!0),j.directory=16==(16&n.view.getUint8(f+38)),j.offset=n.view.getUint32(f+42,!0),l=G(n.array.subarray(f+46,f+46+j.filenameLength)),j.filename=2048==(2048&j.bitFlag)?F(l):E(l),j.directory||"/"!=j.filename.charAt(j.filename.length-1)||(j.directory=!0),m=G(n.array.subarray(f+46+j.filenameLength+j.extraFieldLength,f+46+j.filenameLength+j.extraFieldLength+j.commentLength)),j.comment=2048==(2048&j.bitFlag)?F(m):E(m),h.push(j),f+=46+j.filenameLength+j.extraFieldLength+j.commentLength}a(h)},function(){g(f)})})},close:function(a){this._worker&&(this._worker.terminate(),this._worker=null),a&&a()},_worker:null};a.zip.useWebWorkers?P("inflater",function(a){m._worker=a,e(m)},function(a){g(a)}):e(m)}function K(a){return unescape(encodeURIComponent(a))}function L(a){var b,c=[];for(b=0;b<a.length;b++)c.push(a.charCodeAt(b));return c}function M(b,c,d,e){function m(a){d(a||g)}function n(a){d(a||i)}var f={},h=[],k=0,l=0,o={add:function(a,c,g,i,o){function u(c){var d;s=o.lastModDate||new Date,p=q(26),f[a]={headerArray:p.array,directory:o.directory,filename:r,offset:k,comment:L(K(o.comment||""))},p.view.setUint32(0,335546376),o.version&&p.view.setUint8(0,o.version),e||0===o.level||o.directory||p.view.setUint16(4,2048),p.view.setUint16(6,(s.getHours()<<6|s.getMinutes())<<5|s.getSeconds()/2,!0),p.view.setUint16(8,(s.getFullYear()-1980<<4|s.getMonth()+1)<<5|s.getDate(),!0),p.view.setUint16(22,r.length,!0),d=q(30+r.length),d.view.setUint32(0,1347093252),d.array.set(p.array,4),d.array.set(r,30),k+=d.array.length,b.writeUint8Array(d.array,c,m)}function v(a,d){var e=q(16);k+=a||0,e.view.setUint32(0,1347094280),void 0!==d&&(p.view.setUint32(10,d,!0),e.view.setUint32(4,d,!0)),c&&(e.view.setUint32(8,a,!0),p.view.setUint32(14,a,!0),e.view.setUint32(12,c.size,!0),p.view.setUint32(18,c.size,!0)),b.writeUint8Array(e.array,function(){k+=16,g()},m)}function w(){if(o=o||{},a=a.trim(),o.directory&&"/"!=a.charAt(a.length-1)&&(a+="/"),f.hasOwnProperty(a))return void d(j);r=L(K(a)),h.push(a),u(function(){c?e||0===o.level?D(t,l++,c,b,0,c.size,!0,v,i,n,m):C(t,l++,c,b,o.level,v,i,n,m):v()},m)}var p,r,s,t=this._worker;c?c.init(w,n):w()},close:function(a){this._worker&&(this._worker.terminate(),this._worker=null);var c,g,i,d=0,e=0;for(g=0;g<h.length;g++)i=f[h[g]],d+=46+i.filename.length+i.comment.length;for(c=q(d+22),g=0;g<h.length;g++)i=f[h[g]],c.view.setUint32(e,1347092738),c.view.setUint16(e+4,5120),c.array.set(i.headerArray,e+6),c.view.setUint16(e+32,i.comment.length,!0),i.directory&&c.view.setUint8(e+38,16),c.view.setUint32(e+42,i.offset,!0),c.array.set(i.filename,e+46),c.array.set(i.comment,e+46+i.filename.length),e+=46+i.filename.length+i.comment.length;c.view.setUint32(e,1347093766),c.view.setUint16(e+8,h.length,!0),c.view.setUint16(e+10,h.length,!0),c.view.setUint32(e+12,d,!0),c.view.setUint32(e+16,k,!0),b.writeUint8Array(c.array,function(){b.getData(a)},m)},_worker:null};a.zip.useWebWorkers?P("deflater",function(a){o._worker=a,c(o)},function(a){d(a)}):c(o)}function N(a){var b=document.createElement("a");return a.map(function(a){return b.href=a,b.href})}function P(b,c,d){function g(a){var b=a.data;if(b.error)return f.terminate(),void d(b.error);"importScripts"===b.type&&(f.removeEventListener("message",g),f.removeEventListener("error",h),c(f))}function h(a){f.terminate(),d(a)}if(null!==a.zip.workerScripts&&null!==a.zip.workerScriptsPath)return void d(new Error("Either zip.workerScripts or zip.workerScriptsPath may be set, not both."));var e;if(a.zip.workerScripts){if(e=a.zip.workerScripts[b],!Array.isArray(e))return void d(new Error("zip.workerScripts."+b+" is not an array!"));e=N(e)}else e=O[b].slice(0),e[0]=(a.zip.workerScriptsPath||"")+e[0];var f=new Worker(e[0]);f.codecTime=f.crcTime=0,f.postMessage({type:"importScripts",scripts:e.slice(1)}),f.addEventListener("message",g),f.addEventListener("error",h)}function Q(a){console.error(a)}var m,b="File format is not recognized.",c="CRC failed.",d="File contains encrypted entry.",e="File is using Zip64 (4gb+ file size).",f="Error while reading zip file.",g="Error while writing zip file.",h="Error while writing file data.",i="Error while reading file data.",j="File already exists.",k=524288,l="text/plain";try{m=0===new Blob([new DataView(new ArrayBuffer(0))]).size}catch(a){}n.prototype.append=function(b){for(var c=0|this.crc,d=this.table,e=0,f=0|b.length;e<f;e++)c=c>>>8^d[255&(c^b[e])];this.crc=c},n.prototype.get=function(){return~this.crc},n.prototype.table=function(){var a,b,c,d=[];for(a=0;a<256;a++){for(c=a,b=0;b<8;b++)1&c?c=c>>>1^3988292384:c>>>=1;d[a]=c}return d}(),o.prototype.append=function(b,c){return b},o.prototype.flush=function(){},s.prototype=new r,s.prototype.constructor=s,t.prototype=new r,t.prototype.constructor=t,u.prototype=new r,u.prototype.constructor=u,v.prototype.getData=function(a){a(this.data)},w.prototype=new v,w.prototype.constructor=w,x.prototype=new v,x.prototype.constructor=x,y.prototype=new v,y.prototype.constructor=y;var O={deflater:["z-worker.js","deflate.js"],inflater:["z-worker.js","inflate.js"]};a.zip={Reader:r,Writer:v,BlobReader:u,Data64URIReader:t,TextReader:s,BlobWriter:y,Data64URIWriter:x,TextWriter:w,createReader:function(a,b,c){c=c||Q,a.init(function(){J(a,b,c)},c)},createWriter:function(a,b,c,d){c=c||Q,d=!!d,a.init(function(){M(a,b,c,d)},c)},useWebWorkers:!0,workerScriptsPath:null,workerScripts:null}}(this);